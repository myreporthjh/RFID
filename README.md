# RFID


### 1. 프로그램 설명
  사용자별로 입/퇴장 관리를 하는 프로그램을 구현하였습니다.
  
  사용자마다 각각의 고유번호를 가진 카드를 발급받았다 가정하며, 사용자가 카드를 찍을때마다 관리자가 이미지정보(ex.학생증, 면허증), 개인정보(이름,나이,성별), 카드인식기록(번호,카드고유번호,기록시간)을 확인할 수 있도록 하였습니다.
  
  DB연동으로 카드정보와 카드인식기록을 저장하는 테이블을 만들었으며(DB 스키마 참조) 카드를 찍은 기록들과, 해당 카드고유번호의 카드를 가진 사용자의 정보를 저장하도록 하였습니다.

  ![image](https://github.com/myreporthjh/RFID/assets/148738904/985dfc10-b706-4a78-9e71-a0532fb27d80)
  
  다음과 같은 UI를 가지며, 모든 동작은 동작 버튼을 눌러야 동작되도록 설정하였습니다.
  
  동작과 중지상태를 구별할 수 있도록 코드내에 BOOL타입의 flag변수를 선언했고 TRUE인지 FALSE인지 구별해서 상태를 판별할 수 있도록 하였습니다.

  - **UID** : 입력란에 카드번호를 적고 조회버튼을 누르면 해당 사용자의 이미지와 정보를 출력하도록 하였습니다.

  - **기록** : 순서와, 카드번호, 그리고 기록된날짜(현재시간기준)이 출력됩니다. 이때, 가장최신정보를 위에서 바로 확인할 수 있도록 DB에서 데이터를 가져올 때 ORDER BY 쿼리로 순번이 높은순서대로 출력할 수 있도록 했습니다. 그리고 데이터가 길어질 상황을 대비해서 가로/세로 스크롤을 추가하였습니다.

  - **1회읽기** : 카드를 댄 상태에서 수동으로 버튼을 눌러서 확인을 해야하며, 계속읽기는 상시대기상태로 카드를 댈때마다 자동으로 인식을 하도록 하였습니다.

  - **계속읽기** : 계속읽기 상태도 또한 flag변수로 ON/OFF 상태를 판별할 수 있도록 구현했습니다. 계속읽기는 스레드를 활용하여 100ms마다 인식을 할 수 있는데 카드를 오래되거나 카드를 연속으로 댈때의 예외사항을 생각하였습니다. 카드를 오래되면 100ms마다 인식하고 카드를 연속으로 대면 100ms단위로 인식할 것이기 때문에 카드를 한번 대면 flag로 한번 인식할 때 마다 1초안에 재인식을 못하도록 설정했습니다.
   
  프로그램은 동작시에 DB연결을 하며 중지버튼을 누를 때 스레드, DB 연결을 끊도록 설정했습니다.


### 2. 동작 캡처화면
  ![image](https://github.com/myreporthjh/RFID/assets/148738904/36901725-83f7-44d0-b750-7c51440f76aa)
  ![image](https://github.com/myreporthjh/RFID/assets/148738904/cfb2fbb7-a814-44d5-bf89-007188ff82d7)
  ![image](https://github.com/myreporthjh/RFID/assets/148738904/48482d2d-76e8-4790-9c36-dc6a7729d88b)
  (1회읽기와 계속읽기 상태 출력)


### 3. DB 스키마

#### card_info : 카드 정보를 저장하는 테이블
![image](https://github.com/myreporthjh/RFID/assets/148738904/b55c405b-4b8e-4a2e-bc76-9bc2760b55bd)
- user_image : 사용자 이미지파일 이름을 저장하는 컬럼

#### card_check_log : 카드 인식 기록을 저장하는 테이블
![image](https://github.com/myreporthjh/RFID/assets/148738904/19d7918b-f9b0-4c2b-9519-5e8953ebc9c5)
- log_num : AUTO_INCREMENT (자동증가) 기본값 지정 : 1부터 증가
- log_date : current_timestamp (현재시간) 기본값 지정
